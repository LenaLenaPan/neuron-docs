# 产品概览

Neuron 是一款现代的工业物联网连接服务器，可以连接多种使用标准协议或设备专有协议的工业设备，帮助实现工业物联网平台与各种设备的互联互通。作为一款轻量级工业软件，Neuron 支持运行在各种有限资源的物联网边缘硬件设备上。旨在解决以数据为中心的自动化设备数据难以统一访问的问题，为智能制造提供基础支撑。

<img src="./introduction/assets/neuron.png" alt="Neuron" style="zoom:20%;" />

## 核心优势

**边缘原生**：Neuron 是一个实时异步处理的服务器，充分利用边缘的低延迟网络方法实现 100 毫秒响应时间。

**多设备连接**：Neuron 提供多种插件模块，例如 Modbus，OPC UA，Ethernet/IP，IEC104，BACnet，Siemens，Mitsubishi 等。这些插件某块被广泛应用于楼宇自动化、数控机床、机器人、电力以及各种 PLC 通信中。

**大规模并发**：Neuron 可以同时与不同的工业设备建立无限的连接。得益于解耦的模块化架构设计，可以单独运行每个连接。并发连接的数量取决于分配的资源。

**便携式部署**：Neuron 具有非常低的内存占用，启动时占用不到 7M，适合在低配置架构设备上运行，如 X86、ARM 和 RISC-V 等。Neuron 还支持类似 Docker 的容器化部署，在 K8s 环境中与其他共存容器一起运行。

**更好的集成**：Neuron 与工业物联网应用、大数据和 AI/ML 分析软件的无缝集成，使得 Neuron 可以通过 API 和 MQTT 连接私有云、EMQX Cloud、AWS、Microsoft Azure 或本地服务器，将实时工业数据直接无缝地流向工业应用，如 MES、ERP、大数据、分析软件等等，实现各类复杂的数据处理和存储场景。

**统一的数据化操作**：Neuron 帮助传统工业设备以异步方式传递数据消息，作为 SparkplugB 标准中指定的边缘节点。SparkPlugB 是一种开放、统一、互操作的工业数据交换标准，通过 MQTT 代理在工业信息系统（如 ERP、MES、SCADA 和历史记录）之间进行数据交换。

**身份验证和安全性**：Neuron 支持 API 服务的 TLS 和 HTTPS 加密，以确保数据在传输中的安全性，并使用 JWT 身份验证机制来验证数据所有者。

## 关键概念

### 核心框架

Neuron 核心框架旨在为各种不同的工业通信协议提供插件构建和应用的基础。这个核心框架包括 NNG 高速总线、数据管理器以控制数据流，以及插件集成的适配器。

### 插件

Neuron 可以分为核心框架和多种可插拔模块。可插拔意味着这些模块可以动态地添加和移除，甚至支持在运行状态下的热插拔。插件可以分为北向应用和南向驱动程序。北向插件通常用于连接到云平台或像处理引擎这样的外部应用程序。南向插件是实现特定协议以访问外部设备的通信驱动程序。为了实现协议格式转换，至少需要一个北向插件和一个南向插件分别用于数据传递和数据采集。

所有这些模块都是用 C 语言编写的，并为那些有兴趣进行二次开发的用户提供 SDK。插件只是由 SDK 构建的动态链接库（.so）文件。具体的插件开发教程请参考 [SKD 教程](./dev-guide/sdk-tutorial/sdk-tutorial.md)。

### 适配器

适配器是为插件数据交换提供两个接口的通信例程：

- NNG 高速总线通信接口，用于和其他适配器交换数据消息。
- 插件接口：用于集成插件模块。

Neuron 提供了两种适配器：

- 驱动程序适配器：用于与南向驱动插件集成。
- 应用程序适配器：用于与北向应用插件集成，与驱动程序适配器在处理数据消息交换时的逻辑不同。

### Node 节点

节点在 Neuron 中被定义为将框架接口与通信例程合并的实体。当一个插件插入核心框架中时，会创建一个连接节点来与外部设备或应用程序通信。在单个运行实例中可能会创建多个节点，用于与各方通信。核心框架负责管理这些节点之间的消息路由。

节点由适配器和插件模块组合而成，节点间的通信基于 NNG 高速消息实现，下图展示了 Neuron 的松耦合设计架构。所有节点独立工作，相互交换数据，并根据其实现的工业协议与外部设备或云进行通信。

<img src="./assets/concepts.png" alt="结构" style="zoom:40%;" />

### 点位（Tag）

点位是分配给一条信息的非分层唯一关键字，该信息包括设备中的数据存储位置和数据操作属性，用户可以通过识别设备中的特定点位，从设备中读取数据或向设备写入数据。

### 组（Group）

设备中用户感兴趣的点位集合可以分成几个组以便更好地管理。每个组都有独立的轮询频率，用于控制从设备中读取数据时设备轮询的时间间隔。路由机制基于这些组作为信息单元在节点之间进行交换。北向节点可以订阅任何南向节点中的任何组。这些订阅将用于在节点之间路由数据消息。
